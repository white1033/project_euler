# Problem 2: Even Fibonacci Numbers

## Description

Each new term in the Fibonacci sequence is generated by adding the previous two terms. By starting with 1 and 2, the first 10 terms will be:
$$ 1, 2, 3, 5, 8, 13, 21, 34, 55, 89, \dots $$

By considering the terms in the Fibonacci sequence whose values do not exceed four million, find the sum of the even-valued terms.

[Link to Problem](https://projecteuler.net/problem=2)

## Analysis

The Fibonacci sequence is defined as:
$$ F_1 = 1, F_2 = 2, F_n = F_{n-1} + F_{n-2} $$

Let's look at the parity (odd/even) of the sequence:
1. $F_1 = 1$ (Odd)
2. $F_2 = 2$ (Even)
3. $F_3 = 3$ (Odd)
4. $F_4 = 5$ (Odd)
5. $F_5 = 8$ (Even)
6. $F_6 = 13$ (Odd)
7. $F_7 = 21$ (Odd)
8. $F_8 = 34$ (Even)

The pattern **Odd, Even, Odd** repeats every 3 terms.
So we only need to sum $F_2, F_5, F_8, F_{11}, \dots$.

### Method 1: Brute Force
Generate all Fibonacci numbers up to 4,000,000. Check if `n % 2 == 0`, and add to sum.

### Method 2: Even Fibonacci Sequence
We can derive a recursive formula for **only** the even Fibonacci numbers.
Let $E_n$ be the $n$-th even Fibonacci number.
$$ E_1 = F_2 = 2 $$
$$ E_2 = F_5 = 8 $$
$$ E_3 = F_8 = 34 $$

We can prove that:
$$ E_n = 4 E_{n-1} + E_{n-2} $$

**Derivation:**
$$ F_n = F_{n-1} + F_{n-2} $$
$$ F_n = (F_{n-2} + F_{n-3}) + F_{n-2} = 2F_{n-2} + F_{n-3} $$
$$ F_n = 2(F_{n-3} + F_{n-4}) + F_{n-3} = 3F_{n-3} + 2F_{n-4} $$
$$ F_n = 3F_{n-3} + F_{n-4} + (F_{n-5} + F_{n-6}) $$
$$ F_n = 3F_{n-3} + (F_{n-4} + F_{n-5}) + F_{n-6} $$
$$ F_n = 4F_{n-3} + F_{n-6} $$

Since $E_n$ corresponds to $F_{3k}$, $E_{n-1}$ to $F_{3k-3}$, and $E_{n-2}$ to $F_{3k-6}$, the formula holds.
We can use this to jump directly between even terms.