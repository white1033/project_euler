# Highly Divisible Triangular Number

## Problem Statement

The sequence of triangle numbers is generated by adding the natural numbers. So the 7th triangle number would be $1 + 2 + 3 + 4 + 5 + 6 + 7 = 28$.
The first ten terms would be:
$$1, 3, 6, 10, 15, 21, 28, 36, 45, 55, \dots$$

Let us list the factors of the first seven triangle numbers:
*   **1**: 1
*   **3**: 1, 3
*   **6**: 1, 2, 3, 6
*   **10**: 1, 2, 5, 10
*   **15**: 1, 3, 5, 15
*   **21**: 1, 3, 7, 21
*   **28**: 1, 2, 4, 7, 14, 28

We can see that 28 is the first triangle number to have over five divisors.
What is the value of the first triangle number to have over five hundred divisors?

## Analysis

### Triangular Number Formula
The $n$-th triangular number is given by:
$$T_n = \frac{n(n+1)}{2}$$

### Coprime Property
Note that $n$ and $n+1$ are always coprime (i.e., $\gcd(n, n+1) = 1$).
This means they share no prime factors.
We can express $T_n$ as a product of two coprime integers:
*   If $n$ is even ($n = 2k$), then $T_n = k(2k+1) = \frac{n}{2} \times (n+1)$. Since $\gcd(\frac{n}{2}, n+1) = 1$, the number of divisors $d(T_n) = d(\frac{n}{2}) \times d(n+1)$.
*   If $n$ is odd ($n = 2k-1$), then $T_n = n \times \frac{n+1}{2}$. Since $\gcd(n, \frac{n+1}{2}) = 1$, the number of divisors $d(T_n) = d(n) \times d(\frac{n+1}{2})$.

### Algorithm
1.  Iterate $n$ starting from 1.
2.  Calculate the number of divisors for the two components of $T_n$.
3.  If the product of their divisor counts exceeds 500, return $T_n$.
4.  This avoids factorization of the potentially large $T_n$ and leverages the faster factorization of smaller numbers $n$ and $n+1$.