# Problem 45: Triangular, Pentagonal, and Hexagonal

## Problem Description

Triangle, pentagonal, and hexagonal numbers are generated by the following formulae:

*   Triangle: $T_n = n(n+1)/2$ ($1, 3, 6, 10, 15, \dots$)
*   Pentagonal: $P_n = n(3n-1)/2$ ($1, 5, 12, 22, 35, \dots$)
*   Hexagonal: $H_n = n(2n-1)$ ($1, 6, 15, 28, 45, \dots$)

It can be verified that $T_{285} = P_{165} = H_{143} = 40755$.

Find the next triangle number that is also pentagonal and hexagonal.

## Analysis

We need to find a number $X$ such that $X \in T \cap P \cap H$, where $X > 40755$.

### Mathematical Simplification
Let's look at the relationship between Triangular and Hexagonal numbers.
$$H_n = n(2n-1)$$
$$T_{2n-1} = \frac{(2n-1)((2n-1)+1)}{2} = \frac{(2n-1)(2n)}{2} = n(2n-1) = H_n$$

**Proof Result**: Every Hexagonal number $H_n$ is also the Triangular number $T_{2n-1}$.
Therefore, we can completely ignore the Triangular number condition. The problem simplifies to:
**Find the next Hexagonal number that is also Pentagonal.**

### Search Strategy
Since Hexagonal numbers grow faster than Pentagonal numbers ($2n^2$ vs $1.5n^2$), iterating through Hexagonal numbers is more efficient.

1.  Start iterating $n$ from $144$ (next index after the example $H_{143}$).
2.  Calculate $H_n = n(2n-1)$.
3.  Check if $H_n$ is Pentagonal using the inverse check:
    $$P_k = \frac{k(3k-1)}{2} = X \implies 3k^2 - k - 2X = 0$$
    $$k = \frac{1 + \sqrt{1 + 24X}}{6}$$
    Check if $\sqrt{1+24X}$ is a perfect square and satisfies the modulo 6 condition.

## Solution

The solution iterates through Hexagonal numbers starting from $n=144$ and checks for the pentagonal property.